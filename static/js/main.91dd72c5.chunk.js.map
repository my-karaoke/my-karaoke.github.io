{"version":3,"sources":["App.js","index.js"],"names":["searchClient","instantMeiliSearch","finitePagination","refreshPage","window","location","reload","validInitialConsonants","Set","doubleConsonants","ㄳ","ㄵ","ㄶ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅄ","queryHook","query","refine","input","result","r","has","push","join","segmentConsonants","Hit","_ref","hit","React","createElement","key","id","className","Highlight","attribute","tagName","Snippet","youtube_url","href","target","rel","App","onClick","style","cursor","color","textDecoration","role","aria-label","InstantSearch","indexName","SortBy","defaultrefinement","items","value","label","RefinementList","Configure","hitsPerPage","attributesToSnippet","snippetEllipsisText","SearchBox","autoFocus","placeholder","Hits","hitComponent","Pagination","showLast","totalPages","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"oVAiBA,MAAMA,aAAEA,GAAiBC,6BACvB,yCACA,mEACA,CACEC,kBAAkB,IAIhBC,EAAcA,KAClBC,OAAOC,SAASC,UAGZC,EAAyB,IAAIC,IAAI,CACrC,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,SAAK,WAGtFC,EAAmB,CACvBC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,UACXC,SAAK,CAAC,SAAK,WAmBPC,EAAYA,CAACC,EAAOC,KAExBA,EAlByBC,KACzB,MAAMC,EAAS,GAEf,IAAK,MAAMC,KAAKF,EACVjB,EAAuBoB,IAAID,GAC7BD,EAAOG,KAAKF,GACHjB,EAAiBiB,GAC1BD,EAAOG,QAAQnB,EAAiBiB,IAEhCD,EAAOG,KAAKF,GAIhB,OAAOD,EAAOI,KAAK,KAIIC,CAAkBR,KA8CrCS,EAAMC,IAAa,IAAZC,IAAEA,GAAKD,EAClB,OACEE,IAAAC,cAAA,OAAKC,IAAKH,EAAII,IACZH,IAAAC,cAAA,OAAKG,UAAU,aACbJ,IAAAC,cAAA,YAAM,IAAEF,EAAII,GAAG,MACfH,IAAAC,cAACI,IAAS,CAACC,UAAU,QAAQP,IAAKA,EAAKQ,QAAQ,UAEjDP,IAAAC,cAAA,OAAKG,UAAU,cACbJ,IAAAC,cAACO,IAAO,CAACF,UAAU,SAASP,IAAKA,EAAKQ,QAAQ,UAE/CR,EAAIU,aACHT,IAAAC,cAAA,OAAKG,UAAU,YACbJ,IAAAC,cAAA,KACES,KAAMX,EAAIU,YACVL,UAAU,gBACVO,OAAO,SACPC,IAAI,uBACL,4BASIC,MApEHA,IACVb,IAAAC,cAAA,OAAKG,UAAU,qBACbJ,IAAAC,cAAA,UACED,IAAAC,cAAA,KACES,KAAK,IACLI,QAAS7C,EACT8C,MAAO,CAAEC,OAAQ,UAAWC,MAAO,UAAWC,eAAgB,YAC/D,wDAIHlB,IAAAC,cAAA,UAAI,4BACI,IACND,IAAAC,cAAA,QAAMkB,KAAK,MAAMC,aAAW,SAAQ,iBAItCpB,IAAAC,cAAA,SAAG,mLACHD,IAAAC,cAACoB,IAAa,CAACC,UAAU,QAAQxD,aAAcA,GAC7CkC,IAAAC,cAAA,OAAKG,UAAU,cAEbJ,IAAAC,cAACsB,IAAM,CACLC,kBAAkB,QAClBC,MAAO,CAAC,CAAEC,MAAO,QAASC,MAAO,yBAEnC3B,IAAAC,cAAA,UAAI,gBACJD,IAAAC,cAAC2B,IAAc,CAACtB,UAAU,YAC1BN,IAAAC,cAAC4B,IAAS,CACRC,YAAa,EACbC,oBAAqB,CAAC,kBACtBC,oBAAqB,SAGzBhC,IAAAC,cAAA,OAAKG,UAAU,eACbJ,IAAAC,cAACgC,IAAS,CAACC,WAAS,EAACC,YAAa,6DAAiBhD,UAAWA,IAC9Da,IAAAC,cAACmC,IAAI,CAACC,aAAcxC,IACpBG,IAAAC,cAACqC,IAAU,CAACC,UAAU,EAAMC,WAAY,QCnGhDC,IAASC,OACP1C,IAAAC,cAACD,IAAM2C,WAAU,KACf3C,IAAAC,cAACY,EAAG,OAEN+B,SAASC,eAAe","file":"static/js/main.91dd72c5.chunk.js","sourcesContent":["import { instantMeiliSearch } from \"@meilisearch/instant-meilisearch\";\nimport \"instantsearch.css/themes/algolia-min.css\";\nimport React from \"react\";\nimport {\n  Configure,\n  Highlight,\n  Hits,\n  InstantSearch,\n  Pagination,\n  RefinementList,\n  SearchBox,\n  Snippet,\n  SortBy\n} from \"react-instantsearch\";\nimport \"./App.css\";\nimport \"./Modal.css\";\n\nconst { searchClient } = instantMeiliSearch(\n  \"https://csw-meilisearch.up.railway.app\",\n  \"40db54d9ebd0d8808f4a1d3583422d15530936254ee7dd7c2ce81c96299c27be\",\n  {\n    finitePagination: true,\n  }\n);\n\nconst refreshPage = () => {\n  window.location.reload();\n};\n\nconst validInitialConsonants = new Set([\n  'ㄱ', 'ㄲ', 'ㄴ', 'ㄷ', 'ㄸ', 'ㄹ', 'ㅁ', 'ㅂ', 'ㅃ', 'ㅅ', 'ㅆ', 'ㅇ', 'ㅈ', 'ㅉ', 'ㅊ', 'ㅋ', 'ㅌ', 'ㅍ', 'ㅎ'\n]);\n\nconst doubleConsonants = {\n  'ㄳ': ['ㄱ', 'ㅅ'],\n  'ㄵ': ['ㄴ', 'ㅈ'],\n  'ㄶ': ['ㄴ', 'ㅎ'],\n  'ㄺ': ['ㄹ', 'ㄱ'],\n  'ㄻ': ['ㄹ', 'ㅁ'],\n  'ㄼ': ['ㄹ', 'ㅂ'],\n  'ㄽ': ['ㄹ', 'ㅅ'],\n  'ㄾ': ['ㄹ', 'ㅌ'],\n  'ㄿ': ['ㄹ', 'ㅍ'],\n  'ㅀ': ['ㄹ', 'ㅎ'],\n  'ㅄ': ['ㅂ', 'ㅅ']\n};\n\nconst segmentConsonants = (input) => {\n  const result = [];\n\n  for (const r of input) {\n    if (validInitialConsonants.has(r)) {\n      result.push(r);\n    } else if (doubleConsonants[r]) {\n      result.push(...doubleConsonants[r]);\n    } else {\n      result.push(r);\n    }\n  }\n\n  return result.join('');\n};\n\nconst queryHook = (query, refine) => {\n  const segmentedQuery = segmentConsonants(query);\n  refine(segmentedQuery);\n};\n\nconst App = () => (\n  <div className=\"ais-InstantSearch\">\n    <h1>\n      <a\n        href=\"#\"\n        onClick={refreshPage}\n        style={{ cursor: \"pointer\", color: \"inherit\", textDecoration: \"inherit\" }}\n      >\n        TJ미디어 노래 검색 Demo\n      </a>\n    </h1>\n    <h2>\n      노래 검색{\" \"}\n      <span role=\"img\" aria-label=\"emoji\">\n        🎤\n      </span>\n    </h2>\n    <p>TJ미디어 노래들을 검색해보세요. (정확하지 않을 수 있음, 2024년 7월까지)</p>\n    <InstantSearch indexName=\"songs\" searchClient={searchClient}>\n      <div className=\"left-panel\">\n        {/* <ClearRefinements /> */}\n        <SortBy\n          defaultrefinement=\"songs\"\n          items={[{ value: \"songs\", label: \"관련순\" }]}\n        />\n        <h2>국가</h2>\n        <RefinementList attribute=\"country\" />\n        <Configure\n          hitsPerPage={8}\n          attributesToSnippet={[\"description:50\"]}\n          snippetEllipsisText={\"...\"}\n        />\n      </div>\n      <div className=\"right-panel\">\n        <SearchBox autoFocus placeholder={\"노래를 검색해보세요...\"} queryHook={queryHook} />\n        <Hits hitComponent={Hit} />\n        <Pagination showLast={true} totalPages={14} />\n      </div>\n    </InstantSearch>\n  </div>\n);\n\nconst Hit = ({ hit }) => {\n  return (\n    <div key={hit.id}>\n      <div className=\"hit-title\">\n        <span>({hit.id}) </span>\n        <Highlight attribute=\"title\" hit={hit} tagName=\"mark\" />\n      </div>\n      <div className=\"hit-singer\">\n        <Snippet attribute=\"singer\" hit={hit} tagName=\"mark\" />\n      </div>\n      {hit.youtube_url && (\n        <div className=\"hit-info\">\n          <a\n            href={hit.youtube_url}\n            className=\"custom-button\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            @YouTube 검색\n          </a>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}